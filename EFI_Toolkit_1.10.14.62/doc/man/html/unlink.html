<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->

<B><A HREF="UNLINK.html">UNLINK(2)</A></B>		  FreeBSD System Calls Manual		     <B><A HREF="UNLINK.html">UNLINK(2)</A></B>


</PRE>
<H2>NAME</H2><PRE>
     <B>unlink</B> - remove directory entry


</PRE>
<H2>SYNOPSIS</H2><PRE>
     <B>#include</B> <B>&lt;unistd.h&gt;</B>

     <I>int</I>
     <B>unlink</B>(<I>const</I> <I>char</I> <I>*path</I>)


</PRE>
<H2>DESCRIPTION</H2><PRE>
     The <B>unlink</B>() function removes the link named by <I>path</I> from its directory
     and decrements the link count of the file which was referenced by the
     link.  If that decrement reduces the link count of the file to zero, and
     no process has the file open, then all resources associated with the file
     are reclaimed.  If one or more process have the file open when the last
     link is removed, the link is removed, but the removal of the file is de-
     layed until all references to it have been closed.  <I>path</I> may not be a di-
     rectory.


</PRE>
<H2>RETURN VALUES</H2><PRE>
     Upon successful completion, a value of 0 is returned.  Otherwise, a value
     of -1 is returned and <I>errno</I> is set to indicate the error.


</PRE>
<H2>ERRORS</H2><PRE>
     The <B>unlink</B>() succeeds unless:

     [ENOTDIR]	     A component of the path prefix is not a directory.

     [ENAMETOOLONG]  A component of a pathname exceeded 255 characters, or an
		     entire path name exceeded 1023 characters.

     [ENOENT]	     The named file does not exist.

     [EACCES]	     Search permission is denied for a component of the path
		     prefix.

     [EACCES]	     Write permission is denied on the directory containing
		     the link to be removed.

     [ELOOP]	     Too many symbolic links were encountered in translating
		     the pathname.

     [EPERM]	     The named file is a directory.

     [EPERM]	     The directory containing the file is marked sticky, and
		     neither the containing directory nor the file to be re-
		     moved are owned by the effective user ID.

     [EBUSY]	     The entry to be unlinked is the mount point for a mounted
		     file system.

     [EIO]	     An I/O error occurred while deleting the directory entry
		     or deallocating the inode.

     [EROFS]	     The named file resides on a read-only file system.

     [EFAULT]	     <I>Path</I> points outside the process's allocated address
		     space.


</PRE>
<H2>SEE ALSO</H2><PRE>
     <B><A HREF="close.html">close(2)</A></B>,	<B><A HREF="link.html">link(2)</A></B>,  <B><A HREF="rmdir.html">rmdir(2)</A></B>,  <B><A HREF="symlink.html">symlink(7)</A></B>


</PRE>
<H2>HISTORY</H2><PRE>
     An <B>unlink</B>() function call appeared in Version 6 AT&amp;T UNIX.

     The <B>unlink</B>() system call traditionally allows the super-user to unlink
     directories which can damage the filesystem integrity.  This implementa-
     tion no longer permits it.

4th Berkeley Distribution	 June 4, 1993				     2
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
